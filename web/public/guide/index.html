<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>User Guide - DIY Accounting Submit</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../submit.css" />
    <style>
      .guide-section {
        margin: 2em 0;
      }
      .guide-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 12px;
      }
      .guide-card {
        background: #fff;
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 12px;
      }
      .guide-card img {
        width: 100%;
        height: auto;
        border-radius: 6px;
        border: 1px solid #eee;
      }
      .guide-caption {
        font-size: 0.95em;
        color: #555;
        margin-top: 8px;
      }
      .guide-meta {
        font-size: 0.95em;
        color: #333;
        background: #f8f9fa;
        border: 1px solid #e0e0e0;
        border-radius: 6px;
        padding: 10px;
        margin-top: 10px;
      }
      @media (min-width: 700px) {
        .guide-grid {
          grid-template-columns: 1fr 1fr;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="header-nav">
        <div class="hamburger-menu">
          <button class="hamburger-btn" onclick="toggleMenu()">☰</button>
          <div class="menu-dropdown" id="menuDropdown">
            <a href="../index.html">Home</a>
            <a href="../account/bundles.html">Bundles</a>
            <a href="../hmrc/receipt/receipts.html">Receipts</a>
            <a href="index.html">User Guide</a>
            <a href="../about.html">About</a>
          </div>
        </div>
        <div class="auth-section">
          <span class="entitlement-status">Activity: unrestricted</span>
          <span class="login-status">Not logged in</span>
          <a href="../auth/login.html" class="login-link">Log in</a>
        </div>
      </div>
      <h1>User Guide</h1>
      <p class="subtitle">Walkthrough of Bundles and HMRC VAT journeys</p>
    </header>

    <div id="mainContent">
      <div class="form-container">
        <p style="margin-bottom: 1em; color: #555">
          This guide provides step-by-step instructions with screenshots on how to use DIY Accounting Submit.
        </p>
      </div>

      <section class="guide-section" id="obligations">
        <h2>HMRC: View VAT Obligations</h2>
        <div class="guide-grid">
          <div class="guide-card">
            <img src="../images/guide/obligations.png" alt="Obligations form" />
            <div class="guide-caption">Enter VRN and date range; choose status (e.g., O for Open, F for Fulfilled).</div>
          </div>
          <div class="guide-card">
            <img src="../images/guide/obligations-results.png" alt="Obligations results" />
            <div class="guide-caption">Results show due and received dates, period keys and statuses.</div>
          </div>
        </div>
        <div class="guide-meta">Fields: VRN (9 digits), From/To dates (YYYY-MM-DD), Status (A/O/F), optional test scenario in sandbox.</div>
      </section>

      <section class="guide-section" id="submit">
        <h2>HMRC: Submit a VAT Return</h2>
        <div class="guide-grid">
          <div class="guide-card">
            <img src="../images/guide/submission-submit.png" alt="Submission form" />
            <div class="guide-caption">Fill in VAT return boxes (1–9), period key, and mark Finalised when ready.</div>
          </div>
          <div class="guide-card">
            <img src="../images/guide/submit-permission.png" alt="Permissions screen" />
            <div class="guide-caption">Allow the app to submit on your behalf for this session.</div>
          </div>
          <div class="guide-card">
            <img src="../images/guide/complete-vat-receipt.png" alt="Submission receipt" />
            <div class="guide-caption">On success you get a HMRC bundle reference and processing date.</div>
          </div>
          <div class="guide-card">
            <img src="../images/guide/verify-vat.png" alt="Verification" />
            <div class="guide-caption">Optionally verify by retrieving the submitted return.</div>
          </div>
        </div>
        <div class="guide-meta">Key fields: VRN, periodKey (e.g., 24A1), Boxes 1–9 (decimals to 2dp), finalised (true/false).</div>
      </section>

      <section class="guide-section" id="view">
        <h2>HMRC: View a VAT Return</h2>
        <div class="guide-grid">
          <div class="guide-card">
            <img src="../images/guide/view-vat-init.png" alt="View form" />
            <div class="guide-caption">Enter VRN and period key to retrieve a submitted return.</div>
          </div>
          <div class="guide-card">
            <img src="../images/guide/view-vat-fill-in-filled.png" alt="Filled form" />
            <div class="guide-caption">In sandbox, developer scenarios can simulate outcomes.</div>
          </div>
          <div class="guide-card">
            <img src="../images/guide/results.png" alt="Return results" />
            <div class="guide-caption">View Box totals and declaration details returned by HMRC.</div>
          </div>
        </div>
        <div class="guide-meta">Fields: VRN (9 digits) and periodKey (e.g., 24A1); optional test scenario in sandbox.</div>
      </section>

      <div class="navigation-container" style="text-align: center; margin-top: 2em">
        <button type="button" class="btn" onclick="window.location.href = '../index.html'">Return to Home</button>
      </div>
    </div>

    <section class="guide-section" id="bundles">
      <h2>Bundles (Services you can use)</h2>
      <div class="guide-grid">
        <div class="guide-card">
          <img src="../images/guide/goto-bundles-page-hamburger-menu.png" alt="Open Bundles from menu" />
          <div class="guide-caption">Open Bundles from the menu to manage what you can do.</div>
        </div>
        <div class="guide-card">
          <img src="../images/guide/removing-all-bundles.png" alt="Remove existing bundles" />
          <div class="guide-caption">Remove any bundles you no longer want.</div>
        </div>
        <div class="guide-card">
          <img src="../images/guide/request-guest-bundle.png" alt="Add Guest bundle" />
          <div class="guide-caption">Add the Guest bundle for basic access.</div>
        </div>
        <div class="guide-card">
          <img src="../images/guide/ensure-test-bundle-waited.png" alt="Add Test bundle for sandbox" />
          <div class="guide-caption">For HMRC sandbox testing, add the Test bundle.</div>
        </div>
      </div>
      <div class="guide-meta">
        On the Bundles page you can: add/remove bundles; see expiry if applicable. Bundles control access to VAT journeys like Submit, View,
        and Obligations.
      </div>
    </section>

    <footer>
      <div class="footer-content">
        <div class="footer-left">
          <a href="#" id="viewSourceLink" style="display: none">view source</a>
          <a id="latestTestsLink" style="display: inline" target="_blank" href="../tests/index.html">tests</a>
          <a id="apiDocsLink" style="display: inline" target="_blank" href="../docs/index.html"> api </a>
        </div>
        <div class="footer-center">
          <p>&copy; 2025 DIY Accounting Limited</p>
        </div>
        <div class="footer-right" id="localstorageContainer"></div>
      </div>
    </footer>

    <script type="module" src="../submit.js"></script>
    <script src="../lib/request-cache.js"></script>
    <script src="../lib/toml-parser.js"></script>
    <script src="../widgets/hamburger-menu.js"></script>
    <script src="../widgets/entitlement-status.js"></script>
    <script src="../widgets/auth-status.js"></script>
    <script type="module" src="../widgets/view-source-link.js"></script>
    <script src="../widgets/localstorage-viewer.js"></script>
  </body>
</html>
